<h4 class="modal-title">{{ step.location.name }}
        <i class="glyphicon glyphicon-info-sign popover-markdown" uib-popover-template="'info-location'" popover-trigger="'outsideClick'" popover-placement="bottom" popover-class="popover-markdown large"></i>
    </h4>
<span class="text-info">{{ step.location.description }}</span>
<fieldset>
    <div class="col-xs-12" ng-class="mapViewEnabled? 'col-md-6': 'col-md-12'">
        <div class="form-group">
            <label for="postal">Postal Code (optional)</label>
            <input name="postal" type="text" class="form-control" ng-model="entity.location.postal">
        </div>
        <div class="form-group" ng-click="mapViewEnabled = true">
            <label for="latitude">Latitude (optional)</label>
            <input name="latitude" type="number" class="form-control" ng-model="entity.location.latitude" ng-change="locationChanged()" ng-click="locationChanged()" ng-keypress="locationChanged()" min="-90" max="90" step="0.01" placeholder="Click here to show map" ng-required="!!entity.location.longitude">
        </div>
        <div class="form-group" ng-click="mapViewEnabled = true">
            <label for="longitude">Longitude (optional)</label>
            <input name="longitude" type="number" class="form-control" ng-model="entity.location.longitude" ng-change="locationChanged()" ng-click="locationChanged()" ng-keypress="locationChanged()" min="-180" max="180" step="0.01" placeholder="Click here to show map" ng-required="!!entity.location.latitude">
        </div>
        <a class="btn btn-default ux-txt-success pointer" ng-href="" ng-click="mapViewEnabled = !mapViewEnabled">
                <i class="fa fa-map-marker" aria-hidden="true "></i> Toggle map
            </a>
    </div>
    <div class="col-xs-12 col-md-6 " ng-if="mapViewEnabled ">
        <div class="form-group leaflet-container ">
            <leaflet id="map-marker " lf-center="entity.location.map.center" event-broadcast="entity.location.map.events" markers="entity.location.map.markers" width="100% " height="300px"></leaflet>
        </div>
    </div>
</fieldset>
<div class="col-xs-12 ">
    <wizard-log bar="progressLog "></wizard-log>
</div>
<div ng-include="'src/wizard.footer.client.view.html'"></div>
<script type="text/ng-template " id="info-location ">
    <div btf-markdown ng-include=" 'doc/wizard/entity/location-info.md' "></div>
</script>